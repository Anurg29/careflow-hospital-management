services:services:

  - type: web  - type: web

    name: careflow-backend    name: careflow-backend

    env: python    env: python

    region: oregon    region: oregon

    buildCommand: pip install -r requirements.txt && python manage.py migrate --noinput && python manage.py collectstatic --noinput    plan: free

    startCommand: gunicorn hospital_queue.wsgi:application    buildCommand: pip install -r requirements.txt && python manage.py collectstatic --noinput && python manage.py migrate

    envVars:    startCommand: gunicorn hospital_queue.asgi:application -k uvicorn.workers.UvicornWorker --bind 0.0.0.0:$PORT

      - key: PYTHON_VERSION    envVars:

        value: 3.9.18      - key: DJANGO_SECRET_KEY

      - key: DJANGO_DEBUG        generateValue: true

        value: false      - key: DJANGO_DEBUG

      - key: DJANGO_SETTINGS_MODULE        value: false

        value: hospital_queue.settings      - key: DJANGO_ALLOWED_HOSTS

        sync: false
      - key: MONGO_URL
        sync: false
      - key: MONGO_DB_NAME
        value: careflow
      - key: CORS_ALLOWED_ORIGINS
        sync: false
      - key: PYTHON_VERSION
        value: 3.14.0
